import { SynthClient } from "../synth-client.js";

export const stockTools = [
  {
    name: "searchTickers",
    description: "Search for stock tickers, find stocks, lookup tickers, find ticker symbols, search companies, find company stocks, ticker lookup, symbol search, stock symbol search, equity search, security search, find ETFs, search ETFs, find mutual funds, search funds, ticker finder, symbol finder, stock finder, company finder, equity finder, security finder, market search, exchange search, NYSE stocks, NASDAQ stocks, stock exchange search, public company search, listed company search, tradeable stocks, investment search, portfolio search, watchlist search, stock screener, ticker screener, symbol lookup, company lookup, stock lookup, find securities, search securities, market securities, exchange listings, stock listings, company listings, public listings, ticker discovery, stock discovery, company discovery, find investments, search investments, locate stocks, locate tickers, identify stocks, identify companies, match tickers, match companies, resolve tickers, resolve symbols, ticker resolution, symbol resolution, company resolution, stock identification, company identification, ticker verification, symbol verification, stock verification, company verification, ticker validation, symbol validation, stock validation, company validation, ticker matching, symbol matching, stock matching, company matching, partial search, fuzzy search, wildcard search, contains search, starts with search, ends with search, ticker autocomplete, symbol autocomplete, stock autocomplete, company autocomplete, ticker suggestions, symbol suggestions, stock suggestions, company suggestions, similar tickers, similar symbols, similar stocks, similar companies, related tickers, related symbols, related stocks, related companies, alternative tickers, alternative symbols, alternative stocks, alternative companies, ticker alternatives, symbol alternatives, stock alternatives, company alternatives, find by name, search by name, lookup by name, find by ticker, search by ticker, lookup by ticker, find by symbol, search by symbol, lookup by symbol, find by company, search by company, lookup by company, company name search, business name search, corporation search, enterprise search, firm search, organization search, brand search, subsidiary search, division search, sector search, industry search, market cap search, large cap stocks, mid cap stocks, small cap stocks, micro cap stocks, mega cap stocks, blue chip stocks, growth stocks, value stocks, dividend stocks, tech stocks, bank stocks, retail stocks, energy stocks, healthcare stocks, consumer stocks, industrial stocks, financial stocks, technology stocks, communication stocks, utility stocks, real estate stocks, materials stocks, consumer discretionary, consumer staples, information technology, health care, financials, industrials, communication services, utilities, real estate, materials, energy sector. Returns matching tickers with company information, exchange, market cap, sector, and other details.",
    inputSchema: {
      type: "object",
      properties: {
        query: {
          type: "string",
          description: "Search query - can be a full ticker symbol (e.g., 'AAPL'), partial ticker (e.g., 'AAP'), company name (e.g., 'Apple', 'Apple Inc', 'Apple Computer'), partial company name (e.g., 'Appl', 'Micro'), industry terms (e.g., 'bank', 'tech', 'retail'), or any text that might match a company or ticker. Supports partial matching, fuzzy matching, and will return multiple results if multiple matches are found.",
        },
      },
      required: ["query"],
    },
  },
  {
    name: "getOpenClosePrices",
    description: "Get historical stock prices, OHLC data, OHLCV data, open high low close volume, daily prices, historical quotes, stock price history, trading history, price data, market data, historical market data, end of day prices, EOD data, daily bars, price bars, candlestick data, candle data, daily candles, historical candles, stock charts data, chart data, technical analysis data, price action data, historical trading data, market history, price history, stock performance, historical performance, past prices, previous prices, historical values, past values, previous values, historical stock quotes, past stock quotes, previous stock quotes, daily stock data, historical daily data, trading day data, market day data, session data, trading session data, historical sessions, past sessions, previous sessions, opening prices, closing prices, high prices, low prices, daily highs, daily lows, intraday highs, intraday lows, session highs, session lows, trading volume, share volume, volume data, historical volume, past volume, previous volume, daily volume, session volume, trading activity, market activity, historical activity, past activity, previous activity, price movements, price changes, price fluctuations, daily movements, daily changes, daily fluctuations, historical movements, historical changes, historical fluctuations, price trends, historical trends, price patterns, historical patterns, technical patterns, chart patterns, price analysis, historical analysis, technical analysis, market analysis, trend analysis, pattern analysis, price research, historical research, market research, investment research, trading research, backtesting data, strategy testing data, quantitative data, algorithmic trading data, systematic trading data, historical backtesting, strategy backtesting, performance analysis, return analysis, risk analysis, volatility analysis, statistical analysis, quantitative analysis, time series data, financial time series, stock time series, price time series, market time series, sequential data, chronological data, temporal data, date-based data, calendar data, trading calendar, market calendar, business day data, weekday data, trading day only, market hours data, regular hours data, primary session data, continuous data, adjusted prices, split-adjusted prices, dividend-adjusted prices, corporate action adjusted, clean prices, raw prices, unadjusted prices, actual prices, historical actual prices, recorded prices, official prices, exchange prices, consolidated prices, composite prices, primary exchange prices, listing exchange prices, home exchange prices, reference prices, benchmark prices, settlement prices, closing auction prices, official close, primary close, consolidated close, regular close, market close, session close, day close, historical records, price records, trading records, market records, exchange records, official records, archived data, historical archives, data archives, price archives, market archives, database records, historical database, time series database, financial database, market database, price database, trading database, historical storage, data storage, price storage, market storage, long-term data, extended history, full history, complete history, comprehensive data, detailed data, granular data, specific dates, date ranges, time periods, historical periods, specific periods, custom periods, user-defined periods, flexible periods, any date, any period, any timeframe, multi-day data, multi-week data, multi-month data, multi-year data, long-term history, short-term history, recent history, distant history, far history, near history, current month, previous month, current quarter, previous quarter, current year, previous year, last week, last month, last quarter, last year, past week, past month, past quarter, past year, trailing periods, rolling periods, moving periods, sliding windows, lookback periods, historical windows, analysis periods, comparison periods, benchmark periods, reference periods, baseline periods, study periods, research periods, investigation periods, examination periods, review periods, audit periods, verification periods, validation periods, testing periods, evaluation periods, measurement periods, observation periods, monitoring periods, tracking periods, following periods, watching periods, surveillance periods, inspection periods, assessment periods, appraisal periods, valuation periods, pricing periods, quotation periods, rate periods, value periods, worth periods, cost periods, expense periods, investment periods, trading periods, market periods, exchange periods, session periods, business periods, working periods, active periods, liquid periods, volatile periods, stable periods, trending periods, ranging periods, breakout periods, consolidation periods, accumulation periods, distribution periods, markup periods, markdown periods, bullish periods, bearish periods, neutral periods, sideways periods, choppy periods, smooth periods, regular periods, irregular periods, normal periods, abnormal periods, typical periods, atypical periods, usual periods, unusual periods, common periods, uncommon periods, frequent periods, infrequent periods, rare periods, exceptional periods, special periods, significant periods, important periods, critical periods, key periods, major periods, minor periods, primary periods, secondary periods, main periods, auxiliary periods, core periods, peripheral periods, central periods, marginal periods, essential periods, supplementary periods, fundamental periods, additional periods, basic periods, advanced periods, simple periods, complex periods, standard periods, custom periods, default periods, specific periods, general periods, particular periods, individual periods, collective periods, single periods, multiple periods, continuous periods, discrete periods, connected periods, separate periods, adjacent periods, distant periods, overlapping periods, non-overlapping periods, inclusive periods, exclusive periods, comprehensive periods, selective periods, complete periods, partial periods, full periods, fractional periods, whole periods, segment periods, section periods, portion periods, piece periods, part periods, division periods, subdivision periods, component periods, element periods, unit periods, block periods, chunk periods, batch periods, group periods, set periods, series periods, sequence periods, chain periods, string periods, array periods, list periods, collection periods, compilation periods, aggregation periods, accumulation periods, combination periods, composite periods, compound periods, mixed periods, blended periods, merged periods, joined periods, linked periods, connected periods, related periods, associated periods, correlated periods, dependent periods, independent periods, isolated periods, standalone periods, separate periods, distinct periods, unique periods, special periods, specific periods, particular periods, exact periods, precise periods, accurate periods, correct periods, valid periods, legitimate periods, authorized periods, official periods, recognized periods, accepted periods, approved periods, certified periods, verified periods, confirmed periods, validated periods, authenticated periods, genuine periods, real periods, actual periods, true periods, factual periods, historical periods, recorded periods, documented periods, registered periods, logged periods, tracked periods, monitored periods, observed periods, measured periods, calculated periods, computed periods, derived periods, inferred periods, estimated periods, projected periods, forecasted periods, predicted periods, expected periods, anticipated periods, planned periods, scheduled periods, programmed periods, systematic periods, methodical periods, organized periods, structured periods, formatted periods, standardized periods, normalized periods, regular periods, consistent periods, uniform periods, steady periods, stable periods, constant periods, fixed periods, set periods, determined periods, defined periods, specified periods, designated periods, assigned periods, allocated periods, dedicated periods, reserved periods, earmarked periods, targeted periods, focused periods, concentrated periods, intensive periods, extensive periods, thorough periods, detailed periods, comprehensive periods, exhaustive periods, complete periods, full periods, entire periods, total periods, absolute periods, ultimate periods, final periods, conclusive periods, definitive periods, decisive periods, critical periods, crucial periods, vital periods, essential periods, necessary periods, required periods, mandatory periods, obligatory periods, compulsory periods, imperative periods, important periods, significant periods, meaningful periods, relevant periods, pertinent periods, applicable periods, appropriate periods, suitable periods, fitting periods, proper periods, right periods, correct periods, accurate periods, precise periods, exact periods, specific periods, particular periods, detailed periods, thorough periods, comprehensive periods, complete periods, full periods, all-inclusive periods, all-encompassing periods, universal periods, global periods, worldwide periods, international periods, national periods, regional periods, local periods, market-specific periods, exchange-specific periods, ticker-specific periods, stock-specific periods, security-specific periods, instrument-specific periods, asset-specific periods, investment-specific periods, portfolio-specific periods, strategy-specific periods, analysis-specific periods, research-specific periods, study-specific periods, investigation-specific periods, examination-specific periods, review-specific periods, audit-specific periods, verification-specific periods, validation-specific periods, testing-specific periods, evaluation-specific periods, measurement-specific periods, observation-specific periods, monitoring-specific periods, tracking-specific periods, following-specific periods, watching-specific periods, surveillance-specific periods, inspection-specific periods, assessment-specific periods, appraisal-specific periods, valuation-specific periods, pricing-specific periods, quotation-specific periods, rate-specific periods, value-specific periods, worth-specific periods, cost-specific periods, expense-specific periods. Useful for technical analysis, charting, backtesting strategies, performance analysis, investment research, trading decisions, portfolio management, risk assessment, market studies, academic research, financial modeling, quantitative analysis, algorithmic trading, systematic trading, discretionary trading, swing trading, position trading, day trading, scalping, trend following, mean reversion, momentum trading, value investing, growth investing, dividend investing, index investing, sector rotation, pairs trading, arbitrage, hedging, options trading, futures trading, forex trading, commodity trading, cryptocurrency trading, multi-asset trading, cross-asset trading, global macro trading, relative value trading, statistical arbitrage, market making, high frequency trading, low frequency trading, medium frequency trading, automated trading, manual trading, hybrid trading, rule-based trading, discretionary trading, fundamental analysis, technical analysis, quantitative analysis, qualitative analysis, mixed analysis, comprehensive analysis, detailed analysis, thorough analysis, complete analysis, full analysis.",
    inputSchema: {
      type: "object",
      properties: {
        ticker: {
          type: "string",
          description: "Stock ticker symbol (e.g., AAPL for Apple, MSFT for Microsoft, GOOGL for Google, AMZN for Amazon, TSLA for Tesla, META for Meta/Facebook, NFLX for Netflix, NVDA for Nvidia, JPM for JP Morgan, BAC for Bank of America, WMT for Walmart, JNJ for Johnson & Johnson, V for Visa, MA for Mastercard, DIS for Disney, HD for Home Depot, PG for Procter & Gamble, UNH for UnitedHealth, PYPL for PayPal, ADBE for Adobe, CRM for Salesforce, ORCL for Oracle, CSCO for Cisco, PEP for PepsiCo, KO for Coca-Cola, NKE for Nike, MCD for McDonald's, T for AT&T, VZ for Verizon, INTC for Intel, AMD for AMD, IBM for IBM, GE for General Electric, BA for Boeing, CAT for Caterpillar, MMM for 3M, CVX for Chevron, XOM for Exxon Mobil). Can be any valid US stock ticker, ETF symbol, or other security identifier.",
        },
        startDate: {
          type: "string",
          description: "Start date for price data in YYYY-MM-DD format (e.g., 2024-01-01, 2023-12-31, 2023-01-01, 2022-01-01). Can be any valid historical date. This is the beginning of the date range for which you want price data.",
        },
        endDate: {
          type: "string",
          description: "End date for price data in YYYY-MM-DD format (e.g., 2024-01-31, 2023-12-31, 2024-12-31). If not specified, only returns data for the startDate. Use this to get a range of dates, multiple days, weeks, months, or years of price history.",
        },
        page: {
          type: "number",
          description: "Page number for pagination when retrieving large date ranges. Useful when getting years of historical data that may span multiple pages. Optional, defaults to 1.",
        },
        perPage: {
          type: "number",
          description: "Number of results per page. Controls how many days of price data are returned per page. Optional, defaults to 100. Maximum is typically 1000.",
        },
      },
      required: ["ticker", "startDate"],
    },
  },
];

export async function searchTickers(
  client: SynthClient,
  args: { query: string }
) {
  const results = await client.searchTickers(args.query);
  return {
    content: [
      {
        type: "text",
        text: JSON.stringify(results, null, 2),
      },
    ],
  };
}

export async function getOpenClosePrices(
  client: SynthClient,
  args: { ticker: string; startDate: string; endDate?: string; page?: number; perPage?: number }
) {
  const prices = await client.getOpenClosePrices(args.ticker, args.startDate, args.endDate, args.page, args.perPage);
  return {
    content: [
      {
        type: "text",
        text: JSON.stringify(prices, null, 2),
      },
    ],
  };
}